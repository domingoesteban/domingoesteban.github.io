<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Design Patterns Tutorial - Domingo Esteban</title>
  <meta name="keywords" content="Domingo, Esteban, Cabala, Robotics, Peru, Spain, Madrid, Arequipa, Design, Patterns, GoF">
  <meta name="description" content="Design Patterns Tutorial - Domingo Esteban">
  <meta name="author" content="Domingo Esteban">

  <!-- Mobile viewport optimized -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
  <!--meta name="viewport" content="width=device-width, initial-scale=1"-->

  <!-- Bootstrap CSS -->
  <!-- <link rel="stylesheet" href="../framework/css/bootstrap.css"> -->
<link href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css' rel='stylesheet'/>
<link href='http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css' rel='stylesheet'/>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="../../includes/css/styles.css"/>
  <link rel="stylesheet" href="../../includes/css/tutorials-styles.css"/>

  <!-- Including Modernizr (Before any other Javascript) -->

  <!-- Favicon -->
  <link href="../../images/icons/robot-favicon.ico" rel="icon" type="image/x-icon" />

</head>

<body>


<section class="tutorial-block-intro" style="background-color:#F9F7EB;">
  <div class="container">
    <h1 align="center">Design Patterns (Gang of Four)</h1>

    <ul>
    <li><a href="#introduction">Introduction</a></li>
    <li><a href="#creational_patterns">Creational Patterns</a></li>
      <ul>
        <li><a href="#abstract_factory">Abstract Factory</a></li>
      </ul>
    </ul>
    <article>

      <h1 id="introduction">Introduction</h1>

      <ul>
      <li>A pattern has 4 essential elements:</li>
        <ul>
          <li><b>Pattern Name:</b> a handle we can use to describe a design problem, its solutions, and consequences in a word or two.</li>
          <li><b>Problem:</b> the problem describes when to apply the pattern.</li>
          <li><b>Solution:</b> Describes the elements that make up (maquillar) the design, their relationships, responsibilities, and collaborations.</li>
          <li><b>Consequences:</b> The results and trade-offs (balance, compromiso entre dos caracteristicas deseables pero incompatibles) of applying the pattern. It includes: space, time trade-offs, language-implementation, system's flexibilidy, extensibility and portability.</li>
        </ul> 

      <br/>
      <li> The design patters (in the book) are descriptions of communicating objects and classes that are customized to solve a general design problem in a particular context. </li>
      
      <br/>
      <li>The Model/View/Controller (MVC) triad (triada) of classes is used to build user interfaces in Smalltalk-80. MVC consists of 3 kinds of objects:</li>
        <ul>
          <li>The Model is the application object</li>
          <li>The View is its screen presentation</li>
          <li>The Controller defines the way the user interface reacts to user input.</li>
        </ul>
      <li>The MVC pattern uses some GoF patterns.</li>

      <br/>
      <li>The design patterns in the GoF book are described in a format with these sections: Pattern name and classification, Intent(intenci√≥n), Also known as, Motivation, Applicability, Structure, Participants, Collaborations, Consequences, Implementation, Sample code, Known uses, Related patterns.</li>

      <br/>
      <li>Design patterns classification: 2 criteria -> Purpose and Scope (Ver tabla en fichero design_patterns_classification.xml)</li>
        <ul>
          <b>Purpose:</b> reflects what a pattern does
            <ul>
              <li><b>Creational p.:</b> concern the process of object creation.</li>
              <li><b>Structural p.:</b> deal with the composition of classes or objects.</li>
              <li><b>Behavioral p.:</b> characterize the ways in which classes or objects interact and distribute responsability.</li>
            </ul>

          <b>Scope:</b> specifies whether the pattern applies primarily to classes or objects.
            <ul>
              <li><b>Class p.:</b> deal with relationships between classes and their subclasses. These relationshups are stablished through inheritance, so they are static-fixed at compile-time.</li>
              <li><b>Object p.:</b> deal with object relationships, which can be changed at run-time an are more dynamic.</li>
            </ul>
        </ul>

        <br/>
        <table class="table table-bordered text-center">
          <tr>
            <th></th>
            <th>Creational</th>
            <th>Structural</th>    
            <th>Behavioral</th>
          </tr>
          <tr>
            <th>
              Class
            </th>
            <td>
              <p>Factory method (121)</p>
            </td>
            <td>
              <p>Adapter (157)</p>
            </td>
            <td>
              <p>Interpreter (274)</p>
              <p>Template method (360)</p>
            </td>
          </tr>
          <tr>
            <th>
              Object
            </th>
            <td>
              <p>Abstract factory (99)</p>
              <p>Builder (110)</p>
              <p>Prototype (133)</p>
              <p>Singleton (144)</p>
            </td>
            <td>
              <p>Adapter (127)</p>
              <p>Bridge (171)</p>
              <p>Composite (183)</p>
              <p>Decorator (196)</p>
              <p>Facade (208)</p>
              <p>Flyweight (218)</p>
              <p>Proxy (233)</p>
            </td>
            <td>
              <p>Chain of responsability (251)</p>
              <p>Command (263)</p>
              <p>Iterator (289)</p>
              <p>Mediator (305)</p>
              <p>Memento (316)</p>
              <p>Observer (326)</p>
              <p>State (338)</p>
              <p>Strategy (349)</p>
              <p>Visitor (366)</p>
            </td>
          </tr>
        </table>


      <br/>
      <li>The structural class patterns use inheritance to compose classes, while the structural object patterns describe ways to assemble objects.</li>
      <li>The behavioral class patterns use inheritance to describe algorithms and flow of control, whereas the behavioral object patterns describe how a group of objects cooperate to perform a task that no single object can carry out alone.</li>

      <br/>
      <li>There are other ways to organize the patterns. Some patterns are often used together. Some patterns are alternatives. Some patterns result in similar designs even though the patterns have different intents. How they reference each other in their "related patterns" sections.</li> 
      </ul>

      <h2> How design patterns solve design problems </h2>

        <h3>Finding appropriate objects</h3>
        <ul>
          <li>An object packages both data and the procedures that data. The procedures are typically called <b>methods</b>. An object performs an operation when it receives a request (or <b>message</b>) form a <b>client</b>.</li>
          <li>Requests are the only way to get an object to execute an operation. Operations are the only way to change object's internal data. Because of these restrictions, the object's internal state is said to be encapsulated.</li>
          <li>The hard part about OO design is descomposing a system into objects. There are many different approaches to do this, as the analysis model.</li>
          <li>Design patterns help you identify less-obvious abstractions and the objects that can capture them. For example, objects that represent a process or algorithm don't occur in nature, yet they are a crucial part of flexible designs.</li>
          <li>The composite (183) pattern introduces an abstraction for treating objects uniformely that doesn't have a physical counterpart.</li>
          <li>The strategy (349) pattern describes how to implement interchangeable families of algorithms.</li>
          <li>The state (338) pattern represents each state of an entiry as an object.</li>
        </ul>

        <h3>Determining object granularity</h3>
        <ul>
          <li>Objects represent everything down to the hardware or all the way up to entire applications. How we decide what should be an object?</li>
          <li>The Facade (208) pattern describes how to represent complete subsystems as objects.</li>
          <li>The Flyweight (218) pattern describes how to support huge humbers of objects at the finest granularities.</li>
          <li>Abstract factory (99) and Builder (110) yield objects whose only responsibilities are creating other objects.</li>
          <li>Visitors (366) and Command (263) yield objects whose only responsibilities are to implement a request on another object or group of objects.</li>
        </ul>

        <h3>Specifying object interfaces</h3>
        <ul>
          <li>Every operation declared by an object specifies the operation's name, the objects it takes as parameters, and the operation's return value. This is known as the operation's signature.</li>
          <li>The set of all signatures defined by an object's operations is called the interface to the object.</li>
          <li>A type is a name used to denote a particular interface. An object may have many types, and widely diferent objects can share a type.</li>
        </ul>
    </article>

    <article>
      <h1 id="creational_patterns">Creational Patterns</h1>
        <p>
          Creational design patterns abstract the instantiation process.
        </p>

      <h1 id="abstract_factory">Abstract Factory</h1>
        <p>
          The <b>Abstract Factory</b> or <b>Kit</b> pattern provides an interface for creating families of related or dependent objects without specifying their concrete classes.
        </p>

        <p>
          The Abstract Factory should be used when:
        </p>
          <ul>
            <li>A system should be independent of how its products are created, composed and represented.</li>
            <li>A system should be configured with one of multiple families of products.</li>
            <li>A family of related product objects is designed to be used together, and we want to enforce this constraint.</li>
            <li>We want to provide a class library of products, and we want to reveal just the interfaces, no their implementations.</li>
          </ul>

        <h2>Structure</h2>
        <p>
          The next figure shows the <i>structure</i> of this pattern:
        </p>

        <center><img class="centered" src="../../images/tutorials/designpatterns/creational_patterns/abstract_factory.jpg" width="80%" alt=""></center>

        <h2>Participants and Collaborations</h2>
        <p>
          The <i>participants</i> of the previous figure are:
        </p>
          <ul>
            <li><b>AbstractFactory</b>: Declares an interface for operations that create abstract product objects.</li>
            <li><b>ConcreteFactory</b>: Implements the operations to create product objects.</li>
            <li><b>AbstractProduct</b>: Declares an interface for a type of product object.</li>
            <li><b>ConcreteProduct</b>: Defines a product object to be created by the corresponding concrete factory. Implements the AbstractProduct interface.</li>
            <li><b>Client</b>: Uses only interfaces declared by AbstractFactory and AbstractProduct classes.</li>
          </ul>

          <p>
            Usually a single instance of a ConcreteFactory class is created at run-time. This ConcreteFactory creates product objects having a particular implementation. To create different product objects, clients should use a different concrete factory.
           </p>

          <p>
            AbstractFactory defers creation of product objects to its ConcreteFactory subclass.
          </p>


        <h2>Consequences</h2>
          <p>
            The Abstract Factory pattern has the following consequences:
          </p>
            <ul>
              <li>It isolates concrete classes. This pattern helps to control the classes of objects that an application creates because the client only manipulates instances through their abstract interfaces, encapsulating the responsability and the process of creating product objects.</li>

              <li>It makes exchanging product families easy. The client can use different product configurations simply by changing the concrete factory. The whole product family changes at once because the abstract factory creates a complete family of products.</li>

              <li>It promotes consistency among products. The pattern makes easy to enforce that an application uses objects from only one family at a time.</li>

              <li>Supporting new kinds of products is difficult. Supporting new kinds of products requires extending the factory interface, which involves changin the AbstractFactory class and all of its subclasses.</li>
            </ul>

        <h2>Implementation</h2>
          <p>
            Some useful techniques
          </p>


    </article>

  </div>
</section>


<section class="tutorial-block-intro" style="background-color:#F9F7EB;">
  <div class="container">
    <h2>Reference List</h2>
    <ol>
      <li><cite id="refGoFBook"> E. Gamma, et al., Design Patterns: Elements of Reusable Object-Oriented Software. Boston, MA: Addison-Wesley Longman Publishing Co., Inc., 2000.</cite></li>
    </ol>
  </div>
</section>

<footer id="footerSocialMedia">
  <div class="container">
    <div class="row center-block">
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://www.linkedin.com/in/domingoesteban"><img class="footericon" src="../../images/icons/linkedin2-circle-logo-128.png" alt="Linkedin"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://github.com/domingoesteban"><img class="footericon" src="../../images/icons/github2-circle-logo-128.png" alt="Github"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://twitter.com/domingoesteban"><img class="footericon" src="../../images/icons/twitter2-circle-logo-128.png" alt="Twitter"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://google.com/+DomingoEsteban"><img class="footericon" src="../../images/icons/googleplus2-circle-logo-128.png" alt="Google Plus"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://www.youtube.com/user/domingoestebanc"><img class="footericon" src="../../images/icons/youtube2-circle-logo-128.png" alt="Youtube"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://www.facebook.com/domingoesteban"><img class="footericon" src="../../images/icons/facebook2-circle-logo-128.png" alt="Facebook"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://instagram.com/domingoesteban"><img class="footericon" src="../../images/icons/instagram2-circle-logo-128.png" alt="Instagram"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://vine.co/domingoesteban"><img class="footericon" src="../../images/icons/vine-circle-logo-128.png" alt="Vine"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://vimeo.com/domingoesteban"><img class="footericon" src="../../images/icons/vimeo-circle-logo-128.png" alt="Vimeo"/></a>
      </div>
    </div>
  </div>

  <div class="col-xs-12" id="footerCopyright">
    <h6 class="text-center">Copyright ¬© 2014 Domingo Esteban</h6>
    <!-- <p class="text-center"><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> </p> -->
  </div>

</footer>

<!-- JAVASCRIPT (At the bottom for faster page loading)-->

<!-- jQuery -->
<script src="https://code.jquery.com/jquery.js"></script> <!-- Online version 1 -->
<!--script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script--> <!-- Online version 2 -->

<!-- ARREGLAR!!!! -->
<!--script>window.jQuery || document.write('<script src="includes/js/jquery.js"></script>')</script--> <!-- If no online access 1 -->
<!--script src="includes/js/jquery.js"> </script--> <!-- If no online access 2 -->

<!-- Bootstrap JS -->
<script src="../framework/js/bootstrap.js"> </script>

<!-- Custom JS -->
<script src="../includes/js/scripts.js"></script>

</body>

<!-- PAGINA PARA FORMATO DE REFERENCIAS: http://www.york.ac.uk/integrity/ieee.html -->

</html>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              a consola, con una sesi√≥n de administrador, se puede ejecutar el comando <b><code>kill</code></b> para terminar un servicio refiriendose a su proceso. Tambi√©n se puede situar el demonio que se quiera iniciar y hacer que se ejecute en segundo plano.
          </p>

          <p>
            Para iniciar la ejecuci√≥n del servicio Apache 2 (servidor web):
          </p>
            <pre>
              <code><br/>$ su <br/># /etc/init.d/apache2 start</code>
            </pre>

          <p>
            Para recargar la configuraci√≥n del servicio Apache2
          </p>
            <pre>
              <code><br/>$ su <br/># /etc/init.d/apache2 reload</code>
            </pre>

          <p>
            Para detener la ejecuci√≥n del servicio Apache2
          </p>
            <pre>
              <code><br/>$ su <br/># /etc/init.d/apache2 stop</code>
            </pre>


      <h1>Redes en Linux</h1>

        <h2>TCP/IP en Linux </h2>

        <h2>Configuraci√≥n HW de red</h2>

        <h2>Servicios y control de acceso</h2>
          <h3>Niveles de ejecuci√≥n</h3>
          <p>
            Un <b>nivel de ejecuci√≥n</b> o runlevel, es cada uno de los estados de ejecuci√≥n (modos de operaci√≥n) en que se puede encontrar el sistema operativo Linux. Seg√∫n la base est√°ndard para Linux (LSB), debe haber, en general, 7 niveles niveles de ejecuci√≥n:
            <ul style="list-style-type: none;">
              <li>(0) <b>Halt:</b> (Parada) Apaga el sistema.</li>
              <li>(1) <b>Single-user mode:</b> (Monousuario) Modo texto usuario √∫nico root para tareas administrativas.</li>
              <li>(2) <b>Multi-user mode:</b> Multiusuario sin soporte de red, usuario-definible. No configura las interfaces de red y no exporta los servicios de red.</li>
              <li>(3) <b>Multi-user mode with networking:</b> Multiusuario con soporte de red, modo texto multiusuario. Comienza el sistema de forma normal.</li>
              <li>(4) <b>Not used / User-definable:</b> Sin usar (usuario-definible). Para prop√≥sitos especiales.</li>
              <li>(5) <b>Multi-user with display manager:</b> Multiusuario en modo gr√°fico (con pantalla de inicio de sesi√≥n basada en X). Al igual que el nivel de ejecuci√≥n 3, pero con gestor de pantalla.</li>
              <li>(6) <b>Reboot:</b> Reinicia el sistema</li>
            </ul>
          </p>
          <p>
            El nivel de ejecuci√≥n por defecto para el sistema est√° listado en el fichero <b><code>/etc/inittab</code></b>
          </p>

          <h3>Configuraci√≥n de Servicios</h3>
          <p>
            En Linux existen diferentes servicios de arranque. Estos servicios tienen procedimientos de inicio y parada que permiten su trabajo sin necesidad de supervisi√≥n, y se ejecutan a trav√©s de <b>scripts</b> que se encuentran generalmente en el directorio <b><code>/etc/init.d</code></b>
          </p>
          <p>
            En el caso de Fedora, se puede utizar la herramienta <b>redhat-config-services</b> que permite activar o desactivar estos servicios.
          </p>
          <p>
            Para poder activar y desactivar estos servicios, se puede utilizar el comando <b><code>chkconfig</code></b>. Utilizando el argumento -list, es decir <b><code>chklist -list</code></b>, se obtiene una lista de los servicios y si est√°n iniciados o detenidos para cada nivel de ejecuci√≥n. Al final de la lista, se enumeran los servicios manejados por xinetd.
          </p>


        <h2>Redes y servidores</h2>
          <p> 
            Internet est√° compuesto por varios equipos heterog√©neos interconectados, cada uno de estos equipos se denomina host.
          </p>
          <p>
            El protocolo HTTP funciona siguiendo el modelo cliente-servidor. El cliente es una aplicaci√≥n que ejecuta peticiones en el protocolo de aplicaci√≥n y las env√≠a a trav√©s de la red. El servidor permanece "escuchando" a trav√©s de un puerto, por el que se reciben las peticiones del cliente, y posteriormente ejecuta el c√≥digo correspondiente para servirlas. Se responde al cliente con los resultados.
          </p>
          <p>
            En Internet se distinguen tres tipos de host:
          </p>
            <ul>
              <li>M√°quinas de usuarios que act√∫an como clientes y se conectan a proveedores secundarios.</li>
              <li>M√°quinas de proveedores de servicios de Internet que se conectan a proveedores primarios.</li>
              <li>M√°quinas de proveedores primarios de Internet, que se conectan a backbones.</li>
            </ul>

          <h3>Modelo cliente-servidor</h3>
            <p>
              Arquitectura de software que describe el procesamiento entre dos o m√°s programas: una aplicaci√≥n y un servicio soporte. El modelo soporta un medio ambiente distribuido, en el cual los requerimientos de servicio hechos por estaciones de trabajo inteligentes o clientes, resultan en un trabajo realizado por otras computadores llamados servidores.
            </p>
            <p>
              Los elementos de la arquitectura Cliente-servidor son:
            </p>
              <ul>
                <li>El <b>puesto de trabajo</b> o <b>Cliente</b>: Es el PC del usuario, que le permite acceder y gestionar una serie de recursos, el cual se perfila como un puesto de trabajo universal.</li>
                <li>Los <b>Servidores</b> o <b>Back-end</b>: Son las m√°quinas que suministran una serie de servicios como bases de datos, archivos, comunicaciones, etc.</li>
              </ul>
            <p>
              Los servidores, seg√∫n la especializaci√≥n y los requimientos de los servicios que deben suministrar, pueden ser: mainframes, minicomputadoras especializadas o dedicadas, etc.
            </p>

          <h3>HTTP</h3>
            <p>
              La Web utiliza direcciones de recursos (documentos) que se denominan <b>URL</b> (Uniform Resource Locator). Estos URL permiten especificar: el protocolo que se utiliza para obtener el documento, el nombre del host que lo contiene, el puerto TCP/IP en el qu est√° escuchando el servidor que contiene el documento y el documento en s√≠. Sin embargo, en la mayor√≠a de URL no se especifica el puerto del servidor al que se debe conectar porque para cada servidor   existe un puerto predefinido que es el que se tiende a utilizar.
            </p>
            
            <p>
              El protocolo <b>HTTP</b> (Hypertext Transfer Protocol) es un protocolo que funciona sobre los servicios del TCP/IP y se usa para el intercambio de informaci√≥n entre los clientes (navegadores) y los servidores HTTP (Apache, Internet Information Server, etc.)
            </p>

            <p>
              El hipertexto es el contenido de las p√°ginas Web, y el protocolo de transferencia es el sistema mediante el cual se env√≠an las peticiones de acceso a una p√°gina Web, la respuesta del servidor para remitirla y env√≠ar informaci√≥n adicional en ambos sentidos de la comunicaci√≥n.
            </p>

            <p>
              HTTP es un protocolo sin estado, por lo que no se almacena ning√∫n tipo de informaci√≥n sobre conexiones anteriores. Al finalizar la transacci√≥n todo se pierde. Por este motivo se usan peque√±os archivos que se guardan en los equipos para proporcionar la informaci√≥n necesaria al sitio Web y establecer la conexi√≥n, como es el caso de los login de una cuenta de correo.
            </p>

            <p>
              En el protocolo HTTP, los clientes env√≠an sus peticiones y mensajes a su puerto 80 usando TCP/IP. Tras procesar la operaci√≥n, el servidor responde con otro mensaje que puede incluir estados, datos o c√≥digo de error, seg√∫n el resultado de la operaci√≥n solicitada.
            </p>

            <p>
              Todas las operaciones pueden ejecutar un objeto o recurso sobre el que act√∫an: cada objeto Web se identifica por su URL. El servidor y los clientes saben que hacer porque usan descripciones <b>MIME</b> (Multipurpose Internet Mail Extensions), que describen el tipo de documento que se ha transferido, con el fin de intercambiar a trav√©s de internet todo tipo de archivos de forma transparente para el usuario.
            </p>

            <p>
              MIME adjunta un archivo de cabecera a cada archivo, especificando el tipo y el subtipo del contenido del archivo principal. Con esta inforaci√≥n tanto el navegador como el servidor, pueden manejar y presentar correctamente los datos.
            </p>

            <p>
              Los mandatos b√°sicos del protocolo HTTP (p√°ginas web u otro tipo de archivos), son los siguientes:
            </p>
              <ul>
                <li><b>GET</b>: Solicita leer una p√°gina web u otro objeto.</li>
                <li><b>HEAD</b>: Solicita leer la cabecera de una p√°gina web.</li>
                <li><b>PUT</b>: Solicita almacenar una p√°gina web u otro objeto.</li>
                <li><b>POST</b>: Env√≠a datos a una aplicaci√≥n web.</li>
                <li><b>DELETE</b>: Borra una p√°gina web u otro objeto.</li>
                <li><b>LINK</b>: Conecta a dos recursos existentes.</li>
                <li><b>UNLINK</b>: Rompe una conexi√≥n existente entre dos recursos.</li>
              </ul>


          <h3>Etapas de una Transacci√≥n HTTP</h3>

            <p>
              Cada vez que un cliente realiza una petici√≥n a un servidor, se ejecutan los siguientes pasos:
            </p>

              <ul>
                <li>El usuario accede a una URL, seleccionando un enlace de un documento HTML o introduci√©ndola directamente en la barra de direcci√≥n del cliente web.</li>
                <li>El cliente decodifica la URL, separando sus diferentes partes: protocolo de acceso, la direcci√≥n DNS o IP del servidor, el posible puerto opcional (el valor por defecto es 80) y el objeto que se est√° solicitando al servidor.</li>
                <li>Se abre una conexi√≥n TCP-IP con el servidor, llamando al puerto TCP correspondiente.</li>
                <li>Se realiza la petici√≥n enviando el comando necesario (GET, POST, HEAD, etc.), la direcci√≥n del objeto requerido (el contenido de la URL que sigue a la direcci√≥n del servidor), la versi√≥n del protocolo HTTP empleada (usualmente HTTP/1.0) y un conjunto variable de informaci√≥n que incluye datos sobre las capacidades del explorador y datos opcionales para el servidor.</li>
                <li>El servidor devuelve la respuesta al cliente, que contiene un c√≥digo de estado y el tipo de dato MIME de la informaci√≥n de retorno, seguido de la propia informaci√≥n.</li>
                <li>Finalmente, se cierra la conexi√≥n TCP.</li>
              </ul>

          <h3>Servidores Web</h3>
            <p>
              El protocolo HTTP no se ejecuta por s√≠ mismo, sino que se implementa mediante los servidores Web, que son los responsables de establecer las distintas negociaciones.
            </p>

            <p>
              Es importante diferenciar HTTP de HTML. HTML es un formato de archivos no ejecutable generado mediante c√≥digo de marcaci√≥n o etiquetas, mientras que HTTP es un protocolo de comunicaci√≥n.
            </p>

            <p>
              Un <b>servidor Web</b> se encarga de mantenerse a la espera de peticiones HTTP llevadas a cabo por un cliente (navegador). El navegador realiza la petici√≥n al servidor y √©ste le responde con el contenido que el cliente solicita.
            </p>

            <p>
              Cuando un usuario teclea el nombre de una p√°gina web en el navegador, √©ste realiza una petici√≥n HTTP al servidor de dicha direcci√≥n. El servidor responde al cliente enviando el c√≥digo HTML de la p√°gina; al recibir el c√≥digo, el cliente lo interpreta y lo muestra en pantalla.
            </p>

            <p>
              Por lo tanto, el cliente se encarga de solicitar e interpretar el c√≥digo HTML, mientras que el servidor se limita a transferir el c√≥digo de la p√°gina sin llevar a cabo ninguna interpretaci√≥n del mismo.
            </p>

            <p>
              Las <b>aplicaciones Web</b> son fragmentos de c√≥digo que se ejecutan cuando se realizan ciertas peticiones o respuestas HTTP. Existen 2 tipos:
            </p>
              <ul>
                <li><b>Aplicaciones en el lado del cliente:</b> El cliente Web es el encargado de ejecutar la aplicaci√≥n en el equipo del usuario. El servidor proporciona el c√≥digo de las aplicaciones o <b>scripts</b>, y es el cliente, mediante el navegador, que las ejecuta. Los navegadores permiten ejecutar aplicaciones escritas en lenguajes Javascript y Java, aunque pueden a√±adirse m√°s lenguajes mediante el uso de "plugins".</li>

                <li><b>Aplicaciones en el lado del servidor:</b> El servidor Web es quien ejecuta la aplicaci√≥n. Una vez ejecutada, genera cierto c√≥digo HTML que env√≠a al cliente por medio del protocolo http.</li>
              </ul>

          <h3>Domain Name Service (DNS)</h3>
            <p>
              El <b>DNS</b> es una base de datos distribuida y jer√°rquica que almacena informaci√≥n asociada con los nombres de los dominios en redes como Internet.
            </p>

            <p>
              Aunque el DNS puede asociar distintos tipos de informaci√≥n a cada nombre, los usos m√°s comunes son: la asignaci√≥n de nombres de dominio a direcciones IP y la localizaci√≥n de los servidores de correo electr√≥nico de cada uno de ellos.
            </p>

            <p>
              El sistema de nombres de dominios en Internet es un sistema distribuido, jer√°rquico, replicado y tolerante a fallos. El sistema se basa en una estructura de √°rbol que define una jerarqu√≠a entre los dominios y los subdominios.
            </p>

            <p>
              En un nombre de dominio, la jerarqu√≠a se lee de derecha a izquierda. Por ejemplo, www.domain.com, el dominio m√°s alto es com. Por otra parte, la ra√≠z del √°rbol est√° representada por un "punto" al final del nombre (aunque no se escribe), todos los dominios est√°n bajo √©sta ra√≠z.
            </p>

            <p>
              Cada componente del dominio (y tambi√©n la ra√≠z) tiene un servidor primario y varios servidores secundarios. Todos estos servidores tienen la misma autoridad para responder por el dominio, pero el primario es el √∫nico con derecho para hacer modificaciones en √©l. Por este motivo, el servidor primario tiene la copia maestra y los secundarios copian la informaci√≥n desde √©l.
            </p>

            <p>
              El <b>servidor de nombres</b> es un programa que suele ser una versi√≥n de BIND (Berkeley Internet Name Daemon). Es recomendable siempre utilizar la √∫ltima versi√≥n desde Internet (<a href="http://www.isc.org">www.isc.org</a>)
            </p>

            <p>
              La ra√≠z del sistema de dominios es proporcionada por algunos servidores "bien conocidos". Todo servidor de nombres debe ser configurado con la lista de los servidores ra√≠z "bien conocidos" (que usualmente vienen de f√°brica). Estos servidores indican que dominios de primer nivel existen y cu√°les son sus servidores de nombres. Estos servidores de dominio, a su vez, indican que subdominios existen y cu√°les son sus servidores.
            </p>


          <h3>Consideraciones sobre los servidores Web</h3>
            <p>
              Una configuraci√≥n adecuada de un servidor Web, debe asegurar: seguridad, servicios, r√°pidez, compatibilidad, escalabilidad, rendimiento y eficacia.
            </p>

          <h3>Instalaci√≥n de Apache 2</h3>
            <p>
              El servidor <b>Apache HTTP</b> es un servidor Web de tecnolog√≠a Open Source s√≥lido, de uso comercial y que est√° desarrollado por la Apache Software Foundation Red Hat Linux. Incluye el servidor Apache HTTP versi√≥n 2.0 as√≠ como tambi√©n una serie de m√≥dulos de servidor dise√±ados para mejorar la funcionalidad.
            </p>

            <p>
              Apache se ejecuta en entornos multitarea, se instala en un directorio del sistema operativo, t√≠picamente en <code>/usr/local/httpd</code>, entre otros. Este directorio se denomina <b>directorio base</b> y contiene tres subdirectorios:
            </p>
              <ul>
                <li><b>Conf</b>: contiene los archivos de configuraci√≥n de Apache.</li>
                <li><b>Htdocs</b>: contiene las p√°ginas HTML que componen el sitio Web.</li>
                <li><b>Logs</b>: contiene los archivos de log, tanto de los accesos correctos como los errores.</li>
              </ul>

            <p>
              El archivo ejecutable que contiene el servidor se llama <code>httpd</code>, a este ejecutable se le pueden proporcionar varios par√°metros:
            </p>
              <ul style="list-style: none;">
                <li><b>-v</b>, muestra la versi√≥n del programa.</li>
                <li><b>-h</b>, muestra las diferentes directivas de la configuraci√≥n disponibles.</li>
                <li><b>-d</b>, define el directorio base del servidor apache.</li>
              </ul>

            <p>
              Una vez instalado Apache 2.0, para verificar el buen funcionamiento del servidor, se puede utilizar el siguiente comando:
            </p>
            <pre><br><code># cd /etc/httpd</code><br><code># /bin/apachectl start</code>
            </pre>
            <p>
              Para arrancar el servidor tambi√©n se puede utilizar:
            </p>
            <pre><br><code># httpd -k start</code>
            </pre>

            <p>
              Posteriormente, se abre un navegador de archivos y se coloca la direcci√≥n: <i>http://localhost</i>. Se debe de ver en el navegador una p√°gina de testeo de la aplicaci√≥n.
            </p>

            <p>
              Para detener Apache, se utilizan los siguientes comandos:
            </p>
            <pre><br><code># cd /etc/httpd</code><br><code># /bin/apachectl stop</code>
            </pre>
            <p>
              Adicionalmente, para detener el servidor se puede utilizar:
            </p>
            <pre><br><code># httpd -k stop</code>
            </pre>

          <h3>Arquitectura en M√≥dulo de Apache</h3>
            <p>
              Apache est√° estructurado en m√≥dulos. La configuraci√≥n de cada m√≥dulo se hace mediante la configuraci√≥n de las directivas que est√°n contenidas dentro del m√≥dulo. Los m√≥dulos pueden clasificarse en 3 categor√≠as:
            </p>
              <ul>
                <li><b>M√≥dulos base</b>: Contiene las funciones b√°sicas de Apache.</li>
                <li><b>M√≥dulos Multiproceso</b>: Responsables de la uni√≥n con los puertos de la m√°quina, lo que permite aceptar las peticiones.</li>
                <li><p>M√≥dulos Adicionales</p>: Cualquier otro m√≥dulo que a√±ada alguna funcionalidad extra al servidor.</li>
              </ul>
            <p>
              Para a√±adir un conjunto de utilidades al servidor, simplemente hay que a√±adirle un m√≥dulo.
            </p>

            <p>
              Los m√≥dulos base y multiproceso m√°s importantes son:
            </p>
              <ul>
                <li><b>core</b>: Funciones b√°sicas de Apache que est√°n disponibles.</li>
                <li><b>mpm_common</b>: Colecci√≥n de directivas que se implementan en m√°s de un m√≥dulo multiproceso.</li>
                <li><b>beos</b>: M√≥dulo de multiproceso optimizado para BeOS.</li>
                <li><b>leader</b>: Variable experimental de MPM.</li>
                <li><b>mpm_netware</b>: M√≥dulo de multiproceso que implementa un servidor web optimizado para Novell NetWare.</li>
                <li><b>mpmt_os2</b>: MPM h√≠brido, multiproceso y multihilo para OS/2.</li>
                <li><b>perchild</b>: M√≥dulo multiproceso que permite a los procesos demonio servir las peticiones que se asignan a distintos ID de usuario.</li>
                <li><b>prefork</b>: Implementa un servidor sin hilos.</li>
                <li><b>threadpool</b>: Variante experimental del m√≥dulo est√°ndar de MPM.</li>
                <li><b>mpm_winnt</b>: M√≥dulo multiproceso optimizado para Windows NT.</li>
                <li><b>worker</b>: M√≥dulo multiproceso que implementa un h√≠brido multihilos y multiprocesos de servidor Web.</li>
              </ul>

            <p>
              Los m√≥dulos adicionales m√°s destacables son los siguientes:
            </p>
              <ul>
                <li><b>mod_access</b>: proporciona control de acceso bas√°ndose en el nombre del host del cliente, su direcci√≥n IP u otras caracter√≠sticas de la petici√≥n del cliente.</li>
                <li><b>mod_actions</b>: se utiliza para ejecutar scripts CGI, bas√°ndose en el tipo de medio o el m√©todo de petici√≥n.</li>
                <li><b>mod_alias</b>: permite mapear diferentes partes del sistema de ficheros del servidor en el √°rbol de documentos del servidor, y para redirecci√≥n de URLs.</li>
                <li><b>mod_asis</b>: Env√≠o de ficheros que tienen sus propias cabeceras http.</li>
                <li><b>mod_auth</b>: Autentificaci√≥n de usuario utilizando ficheros de texto.</li>
                <li><b>mod_auth_anon</b>: Permite a usuarios an√≥nimos acceder a √°reas autentificadas.</li>
                <li><b>mod_auth_dbm</b>: Autentificaci√≥n utilizando ficheros DBM.</li>
                <li><b>mod_auth_digest</b>: Autentificaci√≥n de usuario utilizando MD5.</li>
                <li><b>mod_auth_ldap</b>: Permite la utilizaci√≥n de un directorio LDAP para almacenar la base de datos de autentificaci√≥n.</li>
                <li><b>mod_autoindex</b>: muestra los contenidos de un directorio autom√°ticamente, paracido al comando <code>ls</code> de Unix.</li>
                <li><b>mod_cache</b>: Cache de contenidos indexados por URIs.</li>
                <li><b>mod_cern_meta</b>: Sem√°ntica de etiquetas meta del CERN.</li>
                <li><b>mod_cgi</b>: Ejecuci√≥n de Scripts CGI.</li>
                <li><b>mod_cgid</b>: Ejecuci√≥n de scripts CGI utilizando un demonio CGI externo.</li>
                <li><b>mod_charset_lite</b>: Para la especificaci√≥n del juego de caracteres de las traducciones.</li>
                <li><b>mod_deflate</b>: comprime el contenido antes de ser enviado al cliente.</li>
                <li><b>mod_dir</b>: Proporcionado para redirecciones y para servir los ficheros de listado de directorios.</li>
                <li><b>mod_disk_cache</b>: Cache para almacenar contenidos indentificados por URI.</li>
                <li><b>mod_echo</b>: Servidor simple de echo para ilustrar los m√≥dulos del protocolo.</li>
                <li><b>mod_env</b>: Modificaci√≥n del entorno que se env√≠a a los scripts CGI y a las p√°ginas SSI.</li>
                <li><b>mod_expires</b>: Generaci√≥n de las cabeceras HTTP Expires, de acuerdo a los criterios especificados por el usuario.</li>
                <li><b>mod_ext_filter</b>: Pasa el cuerpo de la respuesta a trav√©s de un programa antes de envi√°rsela al cliente.</li>
                <li><b>mod_file_cache</b>: Cachea una lista est√°tica de ficheros en memoria.</li>
                <li><b>mod_headers</b>: Personalizaci√≥n de las peticiones HTTP y las cabeceras de las respuestas.</li>
                <li><b>mod_imap</b>: Proceso de im√°genes en el lado del servidor.</li>
                <li><b>mod_include</b>: Documentos HTML generados por el servidor (Server Side includes)</li>
                <li><b>mod_info</b>: Proporciona una visi√≥n comprensiva de la configuraci√≥n del servidor.</li>
                <li><b>mod_isapi</b>: Extensiones ISAPI en Apache para Windows.</li>
                <li><b>mod_idap</b>: pool de conexiones LDAP y cacheo de resultados para la utilizaci√≥n de otros m√≥dulos LDAP.</li>
                <li><b>mod_log_config</b>: Registro de las peticiones hechas al servidor.</li>
                <li><b>mod_logio</b>: Registro del n√∫mero de bytes recibidos y enviados en cada respuesta.</li>
                <li><b>mod_mem_cache</b>: Cache de contenidos identificados por URI.</li>
                <li><b>mod_mime</b>: Asocia las extensiones de peticiones de los ficheros con el comportamiento del fichero (manejadores y filtros) y contenido (tipos mime, idioma, juego de caracteres y codificaci√≥n)</li>
                <li><b>mod_mime_magic</b>: Determina el tipo MIME de un fichero mirando unos pocos bytes del contenido.</li>
                <li><b>mod_negotiation</b>: Se proporciona para la negociaci√≥n del contenido.</li>
                <li><b>mod_proxy</b>: Servidor HTTP/1.1 proxy/gateway</li>
                <li><b>mod_proxy_connect</b>: Extensi√≥n de mod_proxy para la gesti√≥n de las peticiones CONNECT.</li>
                <li><b>mod_proxy_ftp</b>: Soporte FTP para mod_proxy</li>
                <li><b>mod_proxy_http</b>: Siporte HTTP para el m√≥dulo mod_proxy</li>
                <li><b>mod_rewrite</b>: Proporciona un motor de reescritura basado en reglas que rescribe las peticiones de URLs al vuelo.</li>
                <li><b>mod_setenvif</b>: Permite la configuraci√≥n de las variables de entorno bas√°ndose en las caracter√≠sticas de la petici√≥n.</li>
                <li><b>mod_so</b>: Carga el c√≥digo ejecutable y los m√≥dulos al iniciar o reiniciar el servidor.</li>
                <li><b>mod_speling</b>: Intenta corregir las URL mal puestas por los usuarios, ignorando las may√∫sculas y permitiendo hasta una falta.</li>
                <li><b>mod_ssl</b>: Criptograf√≠a avanzada utilizando los protocolos Secure Sockets Layer y Transport Layer Security.</li>
                <li><b>mod_status</b>: Proporciona informaci√≥n en la actividad y rendimiento del servidor.</li>
                <li><b>mod_suexec</b>: Permite a los scripts CGI ejecutarse con un nombre y grupo espec√≠fico.</li>
                <li><b>mod_unique_id</b>: Proporciona variables de entorno y un identificador √∫nico para cada petici√≥n.</li>
                <li><b>mod_userdir</b>: Directorios espec√≠ficos para usuarios.</li>
                <li><b>mod_usertrack</b>: Registro de actividades de un usuario en el sitio.</li>
                <li><b>mod_vhost_alias</b>: Proporcionado para configurar muchos servidores virtuales din√°micamente.</li>
              </ul>

          <h3>P√°ginas din√°micas</h3>
            <p>
              HTML no es un lenguaje de programaci√≥n, es s√≥lo un lenguaje descriptivo que tiene como objeto dar formato al texto y las im√°genes que se pretenda visualizar en un navegador.
            </p>
            <p>
              Sin embargo, existen lenguajes que son capaces de responder de manera inteligente a las demandas del navegador y que permiten la automatizaci√≥n de tareas tediosas e intermediables como peuden ser las actualizaciones, el acceso a base de datos, etc. Estos lenguajes permiten desarrollar <b>p√°ginas din√°micas</b>.
            </p>

            <p>
              Los lenguajes de lado servidor m√°s ampliamente utilizados para el desarrollo de p√°ginas din√°micas son el ASP, PHP y PERL. ASP es un lenguaje derivado del Visual Basic desarrollado por Microsoft, por lo que son adecuados para plataformas bajo sistema Windows NT. El PHP es un lenguaje an√°logo a ASP, pero utilizado en plataformas UNIX y Linux. PERL es un lenguaje m√°s r√°pido y potente.
            </p>

            <p>
              El uso de p√°ginas est√°ticas o din√°micas depender√° de la funcionalidad que se desee tener. Una p√°gina relativamente peque√±a, que no necesite estar al d√≠a cont√≠nuamente ya que sus contenidos son fijos y no se tiene previsto pagar por mantenerla, puede desarrollarse en HTML. Sin embargo, si el sitio web es extenso y sus contenidos van a ir cambiando r√°pidamente, ser√° necesario automatizar en la medida de lo posible todas las tareas.
            </p>

          <h3>PHP</h3>
            <p>
              PHP es el lenguaje m√°s utilizado en la Web para la realizaci√≥n de p√°ginas avanzadas por ser potente y estable. Una de sus caracter√≠sticas, es que permite una programaci√≥n orientada a objetos.
            </p>

            <p>
              <b>PHP</b> es un lenguaje interpretado similar a JavaScript que se ejecuta en el lado del servidor y permite la creaci√≥n de documentos y p√°ginas Web con contenido din√°mico.
            </p>

            <p>
              Al estar, el c√≥digo PHP empotrado dentro de un documento HTML, cuando un usuario desde su navegador hace clic sobre un enlace correspondiente a un documento HTML que incluye c√≥digo PHP, el navegador realiza la solicitud al servidor Web correspondiente, el servidor localiza el documento, detecta que se trata de una p√°gina PHP y pone en funcionamiento el int√©rprete que tiene del lenguaje que ejecuta el c√≥digo PHP.
            </p>

            <p>
              La forma m√°s habitual de introducir c√≥digo PHP en un documento HTML, es con la cadena de inicio y final:
            </p>

            <pre><br><code>&lt;?php ... ?&gt;</code><br>   <code>&lt;? ... ?&gt;</code>
            </pre>

            <p>
              Para instalar los m√≥dulos para soporte de PHP5 en Apache, primero hay que detener Apache, despu√©s se edita el archivo <code>httpd.conf</code>. La ruta del lado derecho de la sentencia <code>LoadModule</code> debe indicar d√≥nde est√° el m√≥dulo de PHP en el sistema. Estas series deben de estar seguidas unas de otras.
            </p>

            <pre><br><code>LoadModule [apache_route]</code>
            </pre>

            <p>
              Para hacer que Apache responda a las extensiones de archivo PHP, en el mismo archivo se incluye la siguiente l√≠nea de comando:
            </p>

            <pre><br><code>AddType application/x-httpd-php .php .phtml</code>
            </pre>

            <p>
              Finalmente se arranca Apache con el procedimiento normal.
            </p>

            <p>
              Para hacer una prueba de funcionamiento con un editor de texto el c√≥digo: <code>&lt;?php phpinfo(); ?&gt;</code> y se guarda el archivo con el nombre <code>prueba.php</code> en el directorio <code>/var/www/html</code> o en la carpeta <code>htdocs</code>. Finalmente se realiza la prueba introduciendo la siguiente direcci√≥n en el navegador: <i>http://localhost/prueba.php</i>, con esto se deber√≠a visualizar una p√°gina de prueba.
            </p>

          <h3>Configuraci√≥n B√°sica de Apache</h3>
            <p>
              La configuraci√≥n de Apacha se realiza mediante la modificaci√≥n del archivo <code>httpd.conf</code>. La estructura de este fichero se compone de tres bloques fundamentales, aunque las directivas de cada uno de ellos puedan aparecer desordenadas o mezcladas. Estos bloques son:
            </p>
              <ul>
                <li>Par√°metros globales.</li>
                <li>Directivas de funcionamiento.</li>
                <li>Host virtuales.</li>
              </ul>

            <p>
              Algunos par√°metros son de prop√≥sito general y otros son configurables de forma independiente para cada conjunto de directorios o archivos, e incluso para un servidor virtual espec√≠fico. Estos par√°metros se encuentran dentro de desecciones en las que se indica el contexto de aplicaci√≥n de dicho par√°metro. Algunas secciones son:
            </p>
              <ul style="list-style: none;">
                <li><b>&lt;Directory&gt;</b>: Los par√°metros que se encuentran dentro de esta secci√≥n s√≥lo se aplican al directorio indicado y sus subdirectorios.</li>
                <li><b>&lt;Files&gt;</b>: Los par√°metros de configuraci√≥n facilitan el control de acceso a los archivos mediante su nombre.</li>
                <li><b>&lt;VirtualHost&gt;</b>: Los par√°metros s√≥lo se aplican a aquellas peticiones dirigidas a este host (nombre de servidor, direcci√≥n IP o puerto TCP)</li>
              </ul>
            <p>
              En cuanto a &lt;VirtualHost&gt;, estas directivas se aplican despu√©s de las directivas generales. De este modo, un VirtualHost puede modificar la configuraci√≥n por defecto.
            </p>

            <p>
              Algunas directivas de configuraci√≥n nunca se aplcian a las secciones como directorio, sino que afectan al conjunto del servidor Web. Las m√°s destacables son:
            </p>
              <ul>
                <li><b>ServerRoot</b>: especifica la localizaci√≥n del directorio ra√≠z en el que se encuentra instalado el servidor.</li>
                <li><b>Listen</b>: especifica el puerto en que se deben utilizar conexiones persistentes. Por defecto el servidor "escucha" en el puerto 80 de TCP.</li>
              </ul>

            <p>
              En el momento de la configuraci√≥n hay una serie de directivas que generalmente no suelen aparecer en las secciones mencionadas, sino que se encuentran en la secci√≥n principal. Estas directivas son:
            </p>
              <ul>
                <li>ServerAdmin</li>
                <li>ServerName</li>
                <li>DocumentRoot</li>
                <li>mod_access</li>
                <li>Allow</li>
                <li>Deny</li>
                <li>Order</li>
              </ul>

          <h3>Archivos de configuraci√≥n principales</h3>
            <p>
              Como ya se indic√≥, la configuraci√≥n de Apache se realiza a trav√©s del archivo de configuraci√≥n principal <code>httpd.conf</code>
            </p>

            <p>
              Por otro lado, se pueden a√±adir otros archivos de configuraci√≥n utilizando la directiva <code>include</code>. En estos archivos de configuraci√≥n se podr√° incluir cualquier directiva. Los cambios en los archivos principales de configuraci√≥n son reconocidos solamente cuando Apache es arrancado y reiniciado.
            </p>

            <p>
              Apache tambi√©n lee un archivo que contiene los tipos mime de documentos. El nombre del archivo es puesto por la directiva <code>TypesConfig</code> y su nombre por defecto es <code>mime_types</code>
            </p>

            <p>
              Los archivos <b>.htaccess</b> es un archivo de texto que Apache usa para disponer de una serie de directivas. Las directivas que se pongan dentro de estos ficheros se aplicar√°n unicamente al directorio donde est√© ubicado y a todos sus subdirectorios. El contenido de este tipo de ficheros habilita al servidor a comportarse de una determinada manera, como por ejemplo optimizar una URL ocultando las variables pasadas por la misma, el bloqueo de usuarios, el control de tr√°fico de una Web, definir una p√°gina de inicio diferente, crear un mensaje de error personalizado, etc.
            </p>

            <p>
              Las secciones de configuraci√≥n m√°s utilizadas son aquellas que cambian la configuraci√≥n de lugares particulares en el sistema de archivos o el espacio Web. Este punto hace referencia a la transacci√≥n que se efect√∫a desde la interpretaci√≥n de los datos por parte del servidor ahsta su interpretaci√≥n Web por parte del usuario.
            </p>

            <p>
              El <b>sistema de archivos</b> es la vista de los discos tal cual los ve el sistema operativo, por ejemplo la instalaci√≥n por defecto de Apache est√° en <code>/usr/local/apache2</code>.
            </p>

            <p>
              El <b>espacio Web</b> (WebSpace) es la vista de nuestro sitio mostrada por el servidor Web y c√≥mo es visto por el cliente.
            </p>

            <p>
              Por lo tanto la ruta de acceso <code>/dir/</code> en el espacio Web corresponde a la ruta de acceso <code>/usr/local/apache2/htdocs/dir/</code> en el sistema de archivos de una instalaci√≥n por defecto de Apache.
            </p>

            <p>
              Las directivas &lt;Directory&gt; y &lt;Files&gt; se aplican a partes del sistema de archivos. Las directivas encerradas en una secci√≥n <code>&lt;Directory&gt;</code> se aplican en el mismo directorio del sistema de archivos nombrado y a todos los subdirectorios del mismo. El mismo efecto puede ser obtenido usando los archivos <code>.htaccess</code>.
            </p>

            <p>
              Por ejemplo para que los √≠ndices del directorio sean activados para el sistema de archivos que se indica, as√≠ como tambi√©n para sus subdirectorios, se escribe:
            </p>

            <pre><br/><code>&lt;Directory /var/web/dir1&gt;<br/>  Options +Indexes <br/>&lt;/Directory&gt;</code>
            </pre>

            <p>
              Aquellas directivas encerradas en una secci√≥n <code>&lt;Files&gt;</code> se aplican a todo archivo con el nombre especificado sin importar en que directorio se encuentre.
            </p>

            <p>
              Por ejemplo las siguientes directivas de configuraci√≥n, cuando se coloquen en la secci√≥n principal de configuraci√≥n, denegar√°n el acceso a cualquier archivo llamado privado.html sin importar donde se encuentre.
            </p>

            <pre><br/><code>&lt;Files privado.html&gt;<br/>  Order allow,deny <br/>  Deny from all <br/>&lt;/Files&gt;</code>
            </pre>

            <p>
              Para dirigirse a archivos encontrados en un lugar particular del sistema de archivos, las secciones &lt;Files&gt; y &lt;Directory&gt; pueden combinarse. Por ejemplo la siguiente configuraci√≥n denegar√° el acceso a cualquier instancia de privado.html encontrada bajo el directorio indicado.
            </p>

            <pre><br/><code>&lt;Directory /var/web/dir1&gt; <br/>&lt;Files privado.html&gt;<br/>  Order allow,deny <br/>  Deny from all <br/>&lt;/Files&gt;&lt;/Directory&gt;</code>
            </pre>

            <p>
              La directiva <code>Location</code>, por un lado es una regex y por otro cambia la configuraci√≥n del contenido del espacio Web. Las <b>regex</b> o <b>expresiones regulares</b> son una forma de describir un modelo de texto, por ejemplo "todas las plabras que empiezen con la letra 'R'", y que permiten generar filtros para expresiones de todo tipo. Las expresiones regulares son √∫tiles en Apache porque permiten aplicar ciertos atributos a colecciones de ficheros o recursos de una forma flexible.
            </p>

            <p>
              Por ejemplo todos los archivos <i>.gif</i> y <i>.jpg</i> que est√©n en un directorio "imagenes" pueden ser escritos con la expresi√≥n regular: <code>/imagenes/.*(jpg|gif)$</code>
            </p>

            <p>
              Para elegir entre contenedores de sistemas de archivos y espacios Web, es importante considerar: Cuando se aplican directivas a objetos que residen en el sistema de archivos siempre se usan <code>Directory</code> o <code>Files</code> y cuando las directivas se aplican a objetos que no residen en el sistema de archivos, como p√°ginas Web generadas por base de dados, se usa <code>Location</code>.
            </p>

            <p>
              Es importante que se use <code>Location</code> cuando se trata de restringir el acceso a objetos que residen en el sistema de archivos. Esto se debe a que muchas localizaciones diferentes del Webspace (URLs) pueden dirigirse (map) al mismo lugar del sistema de archivos, permitiendo que las restricciones sean evitadas. Como en el ejemplo siguiente:
            </p>

            <pre><br/><code>&lt;Location /private&gt; <br/>  Order allow,deny <br/>  Deny from all <br/>&lt;/Location&gt;</code>
            </pre>

          <h3>Servidores virtuales</h3>
            <p>
              Un <b>servidor virtual</b> es aquel que permite mantener distintos trabajos a la vez y, dentro de estos, facilitar su acceso mediante un nombre de dominio en lugar de por su ruta habitual. Por ejemplo se podr√≠a acceder al lugar Web <i>/localhost/proyectos</i> o acceder por su nombre de domio, es decir: <i>www.proyectos.com</i> directamente. Es importante distinguir entre dos tipos de servidores virtuales: los servidores de nombres y los servidores de IP.
            </p>

            <p>
              La configuraci√≥n para host virtuales se adapta dependiendo de lo que se necesite. Si se configura Apache para soportar servidores por direcci√≥n de nombres entonces se pasa como par√°metro el n√∫mero de IP correspondiente: <code>&lt;VirtualHost 168.264.1.3&gt;</code>.
            </p>

            <p>
              Si lo que se prefiere es un servidor de nombres entonces se pasa como par√°metro el puerto 80 de la m√°quina para liberarlo completamente y que atienda cualquier tipo de solicitudes provenientes de distintos clientes: <code>&lt;VirtualHost *:80&gt;</code>. Al colocar el asterisco (*), no habr√° restricciones a las m√°quinas que hagan solicitudes por nombre, pero si se utiliza una direcci√≥n IP concreta, en su lugar se puede asignar √©sta por nombre y otras por IP.
            </p>

            <p>
              Los servidores virtuales que distinguen en funci√≥n del nombre son perfectamente transparantes para el cliente. El hosting virtual basado en nombres necesita de la configuraci√≥n del servidor de DNS para que localice las direcciones IP correctas. Despu√©s ser√° necesario configurar Apache para que reconozca diferentes nombres de host.
            </p>

          <h3>Configuraci√≥n de Apache para soporte de virtualhost</h3>
            <p>
              El servidor se configura para el trabajo con virtualhosts con la adici√≥n de algunas l√≠neas de comando al archivo <code>httpd.conf</code>, son las siguientes:
            </p>
              <ul>
                <li><b>&lt;VirtualHost&gt;</b> Especifica d√≥nde y en qu√© puerto se va a levantar el nuevo dominio o subdominio</li>
                <li><b>ServerAdmin</b>: Corresponda al e-mail de la persona de contacto para este dominio. Es vital cuando tenemos un ISP o administramos una gran cantidad de dominios para los cuales se da la direcci√≥n de contacto de la persona responsable.</li>
                <li><b>DocumentRoot</b>: Es la ra√≠z donde se deben ubicar los √≠ndices del nuevo sitio.</li>
                <li><b>ScriptAlias</b>: En este directorio especificado por un alias ser√° donde se ejecuten los Scripts, por ejemplo archivos PERL.</li>
                <li><b>ServerName</b>: Es donde se decreta el nombre real del dominio. Es el mismo que se utiliza en el DNS como cname.</li>
              </ul>

            <p>
              Los par√°metros anteriores pueden utilizarse en el archivo de configuraci√≥n, como en el siguiente ejemplo:
            </p>
      

              <ul>
                <li>NameVirtualHost *:80 seguido de la direcci√≥n IP para usar hosting virtual basado en nombres.</li>
                <li>&lt;VirtualHost&gt;, la etiqueta VirtualHost seguida del nombre que se acaba de especificar</li>
                <li>ServerName www.prueba.com seguido del nombre de host y n√∫mero de puerto que el servidor usa para indentificarse.</li>
                <li>ServerAlias prueba.com *.prueba.com seguido de los nombres alternativos usados para un host cuando se intentan encontrar equivalencias a hosts virtuales basados en el nombre.</li>
                <li>DocumentRoot /www/domain seguido de la ruta de acceso a los proyectos (htdocs o html)</li>
              </ul>

            <pre><br/><code>NameVirtualHost *:80 <br/>&lt;VirtualHost *:80&gt; <br/>  ServerName www.prueba.com *.prueba.com <br/>  DocumentRoot /www/domain <br/> &lt;/VirtualHost&gt;</code>
            </pre>

            <p>
              Para verificar si la configuraci√≥n es correcta, se abre un navegador y en lugar de colocar la ruta de acceso al sitio (http://localhost/prueba) se escribe el nombre del dominio (http://www.prueba.com). Con esto se deber√° ver el contenido de la carpeta htdocs o html, dependiendo del caso.
            </p>

          <h3>Usuarios y grupos</h3>
            <p>
              La creaci√≥n de usuarios y grupos surgen de la necesidad de que las p√°ginas Web puedan ser le√≠das por gran cantidad de visitantes, pero que no puedan tener acceso a su configuraci√≥n, dise√±o o a la modificaci√≥n del contenido.
            </p>

            <p>
              El control de usuarios tambi√©n tiene sentido si se desea proporcionar un servicio de hosting de pago. En estos casos el panel de control Web, debe permitir subir, eliminar, crear base de datos, etc, pero no debe de estar abierto al p√∫blico. Este problema se soluciona mediante un sistema de login que identifique al usuario que accede al servicio y una password que lo valide. Por lo general, el env√≠o de esta informaci√≥n se realiza mediante un encriptado que garantiza la integridad de los datos.
            </p>

            <p>
              El sistema de encriptado no se puede ver ya que es totalmente transparente a los usuarios. Por otra parte, la gran mayor√≠a de los servicios como el e-mail, utilizan alg√∫n m√©todo de seguridad. El m√°s com√∫n de los protocolos de transferencia segura es el simple mail o SMTP.
            </p>

            <p>
              Una ventaja del servidor Apache consiste en que, con total independencia del sistema operativo, es capaz de crear y modificar la lista de usuarios que tendr√°n acceso a una p√°gina determinada. Para este fin, se debe de indicar en que archivo se debe buscar los usuarios y cu√°l va a ser la ra√≠z del directorio protegido en <code>httpd.conf</code>:
            </p>

            <pre><br/><code>&lt;Directory /usr/local/apache2/htdocs/protectsite&gt; <br/>  AllowOverride None <br/>  AuthName "Attack ADM Page" <br/>  AuthType Basic <br/>  AuthUserFile /usr/local/apache2/conf/.htpasswd <br/>  require valid-user <br/>&lt;/Directory&gt;</code>
            </pre>

          <h3>Autentificaci√≥n</h3>
            <p>
              Al implementar la gesti√≥n de usuarios, el servidor lleva a cabo acciones con el fin de autentificar el usuario, y una vez se confirme su identidad, sirve la petici√≥n y permite el acceso. Estas acciones para verificar la validez del usuario o de la aplicaci√≥n que quiere acceder pueden clasificarse en: autenticaci√≥n, autorizaci√≥n y control de acceso. Estas configuraciones requieren de la directiva <code>AllowOverride</code> con el valor <code>AuthConfig</code>
            </p>

            <p>
              Para configurar el servidor apache y que sea capaz de autentificar a los usuarios y verificar la autorizaci√≥n del mismo al recurso solicitado, es necesario realizar las siguientes acciones:
            </p>
              <ol>
                <li>Crear un archivo de usuarios.</li>
                <li>Crear un archivo de grupos (si es necesario).</li>
                <li>Definir las directivas en el fichero de configuraci√≥n o mediante un fichero .htaccess</li>
              </ol>

            <p>
              Estos archivos se generan autom√°ticamente despu√©s de a√±adir las directivas necesarias y reiniciar Apache. Si no es necesario, se tiene que buscar y configurar manualmente.
            </p>

            <p>
              S√≥lo el superusuario o root debe estar autorizado para llevar a cabo las modificaciones de los archivos contenedores de usuarios y grupos.
            </p>

            <p>
              Las directivas de <code>mod_auth</code> necesarias para configurar la autentificaci√≥n y autorizaci√≥n son las siguientes:
            </p>
              <ul>
                <li><b>AuthUserFile</b>: sirve para especificar la ruta donde se almacenar√° el fichero de usuarios.</li>
                <li><b>AuthGroupFile</b>: sirve para especificar la ruta donde se almacenar√° el fichero de grupos.</li>
              </ul>

            <p>
              Existen dos m√©todos que permite Apache para acceder a cierto directorio a trav√©s de un usuario y clave:
            </p>
              <ul>
                <li><b>Basic</b>: cuando el cliente introduce el usuario y clave, estos datos viajan al servidor sin cifrar. Es recomendable para archivos de poca importancia, cuyo acceso s√≥lo se restringe para mantener el control sobre los usuarios que los modifican y as√≠ evitar conflictos.</li>
                <li><b>Digest</b>: el usuario y la clave van cifrados del cliente al servidor. Esto brinda mayor seguridad, debido a que si la clave es capturada por alg√∫n usuario no autorizado, √©sta ser√° ininteligible.</li>
              </ul>

            <p>
              Los m√©todos s√≥lo sirven para autentificar a un usuario cuando intenta acceder a un determinado recurso, una vez que se identifica un usuario v√°lido se deja acceder al recurso, pero los datos que posteriormente se envian del cliente al servidor, o viceversa, no tienen ning√∫n tipo de cifrado. Por lo tanto, estos m√©todos s√≥lo sirven para controlar el acceso, no para proteger los datos una vez se ha comprobado que el acceso es v√°lido.
            </p>

            <p>
              Para configurar la autontificaci√≥n, se modifica el archivo <code>httpd.conf</code>
            </p>

            <pre><br/><code>&lt;Directory "var/www/html/private"&gt; <br/>  AuthName "privatefiles" <br/>  AuthType Basic <br/>  AuthUser File /etc/httpd/conf/passwd_basic <br/>  Require valid-user <br/>&lt;/Directory&gt;</code>
            </pre>

            <ul>
              <li><b>&lt;Directory "ruta_de_directorio"&gt;</b>, se indica la ruta del directorio que se va a proteger. Suele ser una buena idea generar una carpeta /private. Todas las directivas que se escriben a continuaci√≥n afectar√°n a este directorio.</li>
              <li><b>AuthName "privatefiles"</b> seguido del nombre de autentificaci√≥n. Tambi√©n es el texto que aparece en la ventana que solicitar√° el usuario y clave.</li>
              <li><b>AuthType Basic</b> seguido del tipo de autentificaci√≥n.</li>
              <li><b>AuthUser File /etc/httpd/conf/passwd_basic</b> seguido del nombre del archivo donde est√°n los usuarios y las claves.</li>
              <li><b>Require valid-user</b>, con esta directiva se indica que usuarios tienen acceso.</li>
            </ul>

            <p>
              Parar crear los usuarios con el m√©todo de autenticaci√≥n Basic, se usa la aplicaci√≥n <code>htpasswd</code>. Si el archivo no existe (porque es la primera vez que se crea un usuario), es necesario lanzar el comando con la opci√≥n <code>-c</code>
            </p>

            <pre><br/><code># ./htpasswd -c /etc/httpd/conf/passwd_basic usuario</code>
            </pre>

            <p>
              Para especificar la clave en la l√≠nea de comandos se utiliza la opci√≥n <code>-b</code>:
            </p>

            <pre><br/><code># ./htpasswd -b /etc/httpd/conf/passwd_basic usuario clave</code>
            </pre>

            <p>
              Para especificar gurpos de usuario que ser√°n autentificados, basta con crear un archivo de texto con el siguiente formato para cada l√≠nea: <code>nombreGrupo: user1 user2 user3 ...</code>. Despu√©s se utiliza la directiva <code>AuthGroupFile</code> para indicar la ruta completa donde se encuentra el fichero que se ha creado con la definici√≥n de grupos. Cada usuario del grupo se a√±ade al fichero de claves como se detall√≥ anteriormente.
            </p>

          <h3>Ejemplo de Host Virtual y credencial de acceso</h3>
            <p>
              Si se quiere crear un host virtual para Apache y establecer una credencial de acceso para acceder al directorio Web, con las siguientes caracter√≠sticas:
            </p>
              <ul>
                <li>Dominio a alojar en el host virtual: www.dominiovirtual.com</li>
                <li>Directorio de la Web del host virtual: /var/www/dominiovirtual.com</li>
                <li>Correo de contacto del WebMaster: webmaster@dominiovirtual.com</li>
                <li>Usuario para acceder a la Web: admin</li>
                <li>Contrase√±a para acceder a la Web: unaclave</li>
                <li>Archivo donde se almacenar√° las credenciales de acceso: /etc/apache2/conf/dominiovirtual.com-passwd</li>
                <li>Mensaje que aparecer√° al solicitar la credencial para acceder: "Mensaje de acceso a dominiovirtual.org"</li>
              </ul>

            <p>
              En primer lugar se tiene que crear el host virtual, modificando el archivo de configuraci√≥n de Apache 2:
            </p>

            <pre><br/><code>NameVirtualHost *:80 <br/>&lt;VirtualHost *:80&gt; <br/>  ServerName www.dominiovirtual.com <br/>  ServerAdmin webmaster@dominiovirtual.com <br/>  DocumentRoot /var/www/dominiovirtual.com <br/>  AuthName "Mensaje de acceso a dominiovirtual.org" <br/>  AuthType Basic <br/> AuthUserFile /etc/apache2/conf.d/dominiovirtual.com-passwd <br/>  AuthGroupFile /dev/null <br/>  Require user admin <br/>&lt;/VirtualHost&gt;</code>
            </pre>

            <p>
              Posteriormente se debe validar el nombre de dominio especificado en ServerName.
            </p>

            <p>
              A continuaci√≥n se procede a crear un archivo de usuarios, y debido a que se realiza por primera vez se utiliza el par√°metro -c.
            </p>

            <pre><br/><code># htpasswd -c /etc/httpd/conf/passwd_basic usuario <br/>New password: <br/>Re-type new password: <br/>Adding password for user admin</code>
            </pre>



        <h2>Proxy</h2>
          <p>
            Un <b>proxy</b> es un dispositivo o sistema intermediario que hace de pasarela entre el tr√°fico que recibe o env√≠a y la red.
          </p>

          <p>
            Los proxys "cache para Web" se utilizan para auditar y guardar las peticiones que se han hecho una p√°gina Web.
          </p>

          <p>
            El <b>Proxy Cach√© Web Squid</b>, permiter hacer el cacheo de las p√°ginas que se visitan en una red, as√≠ como la definici√≥n de un determinado control de acceso. Con esto, se limita el acceso al proxy para que s√≥lo determinadas m√°quinas puedan usarlo.
          </p>
          
          <p>
            Otro aspecto primordial del proxy es el aislamiento del acceso a Internet, de forma que √∫nicamente se pueda acceder a trav√©s del proxy. En el caso de Squid, al ser √∫nicamente un "proxy cach√© Web", s√≥lo hace de intermedio de los protocolos HTTP y HTTPS.
          </p>

          <h3>Instalaci√≥n del Proxy</h3>
            <p>En una distribuci√≥n Fedora, y utilizando yum, la instaiac√≥n del servicio de Squid se realiza:</p>
            <pre>
              <code># yum install squid</code>
            </pre>

            <p>
              Para arrancar el servicio se utiliza el comando:
            </p>
            <pre>
              <code># service squid start</code>
            </pre>

            <p>
              Si el servicio ya est√° arrancado, se devuelve un error. En este caso, es recomendable reiniciar el servicio. Para hacerlo se utiliza el comando:
            </p>
              <pre>
                <code># service squid restart</code>
              </pre>

            <p>
              Por defecto, Squid funciona en el puerto 3128.
            </p>

          <h3>Configuraci√≥n de Squid</h3>
            <p>
              La configuraci√≥n de Squid se realiza modificando el fichero <code>/etc/squid/squid.conf</code>
            </p>

            <p>
              Squid permite definir las <b>conexiones an√≥nimas</b>, mediante la modificaci√≥n de las cabeceras del protocolo http, para que se desconozca informaci√≥n del cliente.
            </p>

            <p>
              Las cabeceras <b>header_access</b> y <b>header_replace</b> permiten definir reglas de acceso para determinados clientes.
            </p>

            <p>
              Para poder cachear los contenidos, se debe activar la opci√≥n <code>cache_mem N MB</code>, donde N MB es el tama√±o de cach√© para guardar todas las p√°ginas que se visite. Esto permite controlar las peticiones que se haga a diferentes servidores externos, guardando las visitas en cach√© con un tama√±o m√°ximo correspondiente al asignado.
            </p>

            <p>
              Para habilitar el uso de la cach√©, se debe de ejecutar squid con la opci√≥n -z. Ejecutando el comando:
            </p>
              <pre>
                <code># /usr/bin/squid -z</code>
              </pre>

            <p>
              Es posible que tambi√©n sea necesario configurar un <b>proxy reverso</b> o <b>acelerador Web</b>. Es decir, configurarlo para que las respuestas a los clientes tambi√©n se guarden en la memoria cach√©.
            </p>

            <p>
              Suponiendo que se cuenta con un servidor llamado "miservidor.com" y que "misquid.com" es un servidor cach√© acelerador. La primera vez que se visite "miservidor.com" se guardar√° la cach√© en "misquid.com".
            </p>

            <p>
              Para configurar la aceleraci√≥n, el fichero de configuraci√≥n debe tener las siguientes directivas:
            </p>
            <pre>
                <code><br/>http_port 80 <br/>httpd_accel_host 172.16.1.115 <br/>httpd_accel_port 80 <br/>httpd_accel_single_host on <br/>httpd_accel_with_proxy on <br/>httpd_accel_uses_host_header off</code>
            </pre>

            <p>
              La configuraci√≥n anterior indica que el puerto del proxy es el 80, que la IP de "miservidor.com" es la 172.16.1.115 que se corresponde tambi√©n con el puerto 80. Adem√°s se activa los servicios de aceleraci√≥n. Con esto, se tiene configurado correctamente un accelerador Web para un servidor.
            </p>

            <p>
              El funcionamiento de la cach√© y de la aceleraci√≥n es sencillo: en las siguientes consultas que se haga en la red se guardar√° una copia de las peticiones para que, en los proximos accesos se libre a la m√°quina de infinidad de tareas y tr√°fico de archivos.
            </p>

          <h3>Control de Acceso en Squid</h3>
            <p>
              Para definir <b>reglas de acceso</b> o <b>ACL</b>s para Squid, se debe editr el fichero de configuraci√≥n de squid y establecer la pol√≠tica de acceso, a trav√©s de la directiva <code>http_access</code>.
            </p>

            <p>
              Si por ejemplo se quiere denegar el acceso a localhost, y permitir el rango de red de la 192.168.1.0 y la 192.168.2.0. Es decir, las dos redes privadas que se tiene en la red de oficina o casa, el fichero /etc/squid/squid.conf contendr√°:
            </p>

            <pre>
              <code><br/># relaxed_header_parser on <br/>http_access deny to_localhost <br/>acl our networks src 192.168.1.0/24 192.168.2.0/24 <br/>gttp access allow our_networks</code>
            </pre>

            <p>
              La aplicaci√≥n <b>SquidGuard</b> utiliza listas de acceso basada en contenidos. Por ejemplo, tiene definidas listas para contenidos adultos, p√°ginas de hacking, de pago, etc.
            </p>

          <h3>Configuraci√≥n de los clientes</h3>
            <p>
              Por ejemplo, para comprobar que la configuraci√≥n de Squid del punto anterior es la correcta, see abre un navegador en una m√°quina de la red 192.168.1.0, y en configuraci√≥n de conexi√≥n se coloca la IP de la m√°quina que contiene el Squid y su puerto (por defecto, 3128).
            </p>
            <p>
              Finalmente, se realiza una petici√≥n de una Web para comprobar si funciona la salida a Internet a trav√©s del proxy
            </p>


        <h2>Firewall</h2>
          <p>
            Un <b>firewall</b> es un sistema de protecci√≥n que se encarga de definir reglas de aceptaci√≥n o denegaci√≥n de tr√°fico de red.
          </p>

          <p>
            Mediante el uso del firewall, se puede definir accesos y bloqueos desde el nivel 2 al nivel 5 de las diferentes capas de red.
          </p>

          <p>
            La configuraci√≥n de un firewall depender√° del sistema de conexi√≥n que se tenga. Las reglas de bloqueo ser√°n m√°s exigentes para un router que para un ordenador de casa.
          </p>

          <h3>Firewall en Linux</h3>
            <p>
              El firewall en Linux se conoce como <b>iptables</b>. Linux define cinco cadenas que se encargan de definir el tipo de tr√°fico: INPUT, OUTPUT, FORWARD, POSTROUTING y PREROUTING.
            </p>

            <p>
              Por ejemplo, la cadena INPUT indica tr√°fico de entrada, es decir, el tr√°fico de red que lelga a nuestra m√°quina. Por lo que si alguien se conecta por SSH, se tiene que aceptar por la cadena de entrada el tr√°fico de red del puerto 22, el correspondiente a SSH.
            </p>

            <p>
              Si se quiere conectar a ver una p√°gina Web, el firewall tiene que aceptar paquetes de salida de la capa OUTPUT.
            </p>

          <h3>Pol√≠ticas de un firewall</h3>
            <p>
              A la hora de configurar un firewall se puede definir dos tipos de pol√≠ticas: aceptaci√≥n o denegaci√≥n. Estas pol√≠ticas se realizan sobre una cadena espec√≠fica de la configuraci√≥n del firewall.
            </p>

            <p>
              Para listar las reglas de todas las cadenas:
            </p>
              <pre><code># iptables -L</code></pre>

            <p>
              Para pasar a DROP las conexiones de entrada y salida:
            </p>
              <pre><code># iptables -P INPUT DROP<br/># iptables -P OUTPUT DROP</code></pre>              

            <p>
              Para pasar a ACCEPT las conexiones de entrada y salida:
            </p>
              <pre><code># iptables -P INPUT ACCEPT<br/># iptables -P OUTPUT ACCEPT</code></pre>


          <h3>Configuraci√≥n de iptables</h3>  
            <p>
              La sintaxis para habilitar puertos es:
            </p>
              <ul>
                <li><b>-A</b> a√±ade a una cadena una regla, ya sea INPUT u OUTPUT, para el tr√°fico de entrada o salida respectivamente</li>
                <li><b>-p</b> especifica el tipo de protocolo, tcp, udp</li>
                <li><b>--dport</b> especifica el puerto destino de cada protocolo</li>
                <li><b>-j</b> especifica que hacer con esta regla, ACCEPT para aceptar el tr√°fica, o DROP o REJECT para denegarlo</li>
              </ul>

            <p>
              Supongamos que se precisa de un firewall para nuestro sistema. Si se cuenta con varios servicios, entre estos con SSH para el acceso remoto y con un servicio FTP., se impone las reglas input para el puerto 22 SSH tcp y para el puerto 21 FTP tcp.
            </p>
              <pre><code># iptables -A INPUT -p tcp --dport 22 -j ACCEPT<br/># iptables -A INPUT -p tcp --dport 21 -j ACCEPT</code></pre>

            <p>
              En el caso del acceso al exterior. Si se busca tener acceso web (HTTP), puerto 80, y acceso a resoluci√≥n de nombres DNS, puerto 53:
            </p>
              <pre><code># iptables -A OUTPUT -p tcp --dport 80 -j ACCEPT<br/># iptables -A INPUT -p tcp --dport 53 -j ACCEPT<br/># iptables -A INPUT -p udp --dport 53 -j ACCEPT</code></pre>

            <p>
              Por ejemplo si se quiere denegar todo el tr√°fico ICMP, evitando que usen la herramienta ping, se utiliza el comando:
            </p>
              <pre><code># /sbin/iptables -A INPUT -p icmp -s <b>IPNUMBER</b> -j DROP</code></pre>

            <p>
              Con esto, se establece una regla que indica que todo lo que provenga de IPNUMBER por el protocolo iCMP, realice un DROP de la conexi√≥n, es decir, que no la permita. Con esto la m√°quina IPNUMBEr no podr√° hacer ping.
            </p>

          <h3>Borrado de reglas</h3>
            <p>
              Para borrar las reglas o desactivar el firewall, primero se recomienda poner las pol√≠ticas a ACCEPT:
            </p>
              <pre><code># iptables -P INPUT ACCEPT<br/># iptables -P OUTPUT ACCEPT</code></pre>

            <p>
              Finalmente, se realiza un vaciado de las reglas:
            </p>
              <pre><code># iptables -F INPUT<br/># iptables -F OUTPUT</code></pre>

            <p>
              Para eliminar una regla espec√≠fica se utiliza el comando:
            </p>
              <pre><code># iptables -D chain rulenum</code></pre>
            

    </article>
  </div>
</section>


<section class="tutorial-block-intro" style="background-color:#F9F7EB;">
  <div class="container">
    <h2>Reference List</h2>
    <ol>
      <li><cite id="refLinux"> Linux</cite></li>
    </ol>
  </div>
</section>

<footer id="footerSocialMedia">
  <div class="container">
    <div class="row center-block">
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://www.linkedin.com/in/domingoesteban"><img class="footericon" src="../../images/icons/linkedin2-circle-logo-128.png" alt="Linkedin"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://github.com/domingoesteban"><img class="footericon" src="../../images/icons/github2-circle-logo-128.png" alt="Github"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://twitter.com/domingoesteban"><img class="footericon" src="../../images/icons/twitter2-circle-logo-128.png" alt="Twitter"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://google.com/+DomingoEsteban"><img class="footericon" src="../../images/icons/googleplus2-circle-logo-128.png" alt="Google Plus"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://www.youtube.com/user/domingoestebanc"><img class="footericon" src="../../images/icons/youtube2-circle-logo-128.png" alt="Youtube"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block">
        <a target="_blank" href="https://www.facebook.com/domingoesteban"><img class="footericon" src="../../images/icons/facebook2-circle-logo-128.png" alt="Facebook"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://instagram.com/domingoesteban"><img class="footericon" src="../../images/icons/instagram2-circle-logo-128.png" alt="Instagram"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://vine.co/domingoesteban"><img class="footericon" src="../../images/icons/vine-circle-logo-128.png" alt="Vine"/></a>
      </div>
      <div class="col-xs-4 col-sm-1 col-md-offset-1 text-center center-block" >
        <a target="_blank" href="https://vimeo.com/domingoesteban"><img class="footericon" src="../../images/icons/vimeo-circle-logo-128.png" alt="Vimeo"/></a>
      </div>
    </div>
  </div>

  <div class="col-xs-12" id="footerCopyright">
    <h6 class="text-center">Copyright ¬© 2014 Domingo Esteban</h6>
    <!-- <p class="text-center"><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> </p> -->
  </div>

</footer>

<!-- JAVASCRIPT (At the bottom for faster page loading)-->

<!-- jQuery -->
<script src="https://code.jquery.com/jquery.js"></script> <!-- Online version 1 -->
<!--script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script--> <!-- Online version 2 -->

<!-- ARREGLAR!!!! -->
<!--script>window.jQuery || document.write('<script src="includes/js/jquery.js"></script>')</script--> <!-- If no online access 1 -->
<!--script src="includes/js/jquery.js"> </script--> <!-- If no online access 2 -->

<!-- Bootstrap JS -->
<script src="../framework/js/bootstrap.js"> </script>

<!-- Custom JS -->
<script src="../includes/js/scripts.js"></script>

</body>

<!-- PAGINA PARA FORMATO DE REFERENCIAS: http://www.york.ac.uk/integrity/ieee.html -->

</html> 